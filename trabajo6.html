<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trabajo</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <div id="main" class="bg-white p-6 rounded-lg shadow-lg w-96">
        <h1 class="text-2xl font-bold text-center mb-4">Hola</h1>        
        <form @submit.prevent="agregarUser">
            <fieldset class="mb-4">
                <input type="text" v-model="name" placeholder="Nombre" class="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400">
            </fieldset>
            <fieldset class="mb-4">
                <input type="text" v-model="rol" placeholder="Rol" class="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400">
            </fieldset>
            <button v-on:click="agregarUser" type="button" class="w-full py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition duration-300">
                AÃ±adir
            </button>
        </form>
        <ul class="mb-6"></ul>
            <li v-for="user in users" class="py-2 px-4 bg-gray-50 rounded-lg mb-2 shadow-sm flex justify-between">
                <span>{{ user.name }}</span> 
                <span class="text-gray-500">{{ user.rol }}</span>
            </li>
        </ul>
    </div>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <script>
        const { createApp, ref } = Vue
    
        createApp({
            setup() {
                const name_app = ref('CanelOS!')
                let rol = ref('')
                let name = ref('')
                
                let users = ref([
                    {
                        "name":"Alvaro",
                        "rol":"backend"
                    },
                    {
                        "name":"Aleksey",
                        "rol":"frontend"
                    },
                    {
                        "name":"Joaquin",
                        "rol":"movil"
                    }
                ]);
                
                const agregarUser = () => {
                    let tmp = {
                        "name": name.value,
                        "rol": rol.value
                    }
                    users.value.push(tmp)
                    name.value = ''
                    rol.value = ''
                }
                
                return {
                    name_app,
                    users,
                    name,
                    rol,
                    agregarUser
                }
            }
        }).mount('#main')
    </script>
</body>
</html>
